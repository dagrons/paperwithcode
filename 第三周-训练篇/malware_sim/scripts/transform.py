# %%
import os
import tempfile

# %%
def get_opcode_from(bytes_path):
    _, asm_path = tempfile.mkstemp(suffix=".asm")
    cmd_str = """ndisasm {} |""".format(bytes_path) + """awk '{{$1="";$2="";gsub(/^\s+|\s*$/, "");print $1}}' > {}""" .format(asm_path)
    os.system(cmd_str)
    with open(asm_path) as f:
        return f.readlines()